class EducationArticlesResource {
    constructor() {
        this.generalArticles = [
            {
                id: 1,
                title: 'Bringing Intellectual Property Onchain with Story Protocol | Jason Zhao',
                image: 'EducResources/1-1.png',
                link: 'https://www.youtube.com/watch?v=JiFOptRzE8s'
            },
            {
                id: 2,
                title: 'Story Protocol\'s Jason Zhao explains how AI is going to transform the $60 trillion IP industry',
                image: 'EducResources/1-2.png',
                link: 'https://www.youtube.com/watch?v=W22k0gL2BMQ'
            },
            {
                id: 3,
                title: 'Jason Zhao I Onchain IP in the Age of AI I Story Protocol I Pragma San Francisco 2024',
                image: 'EducResources/1-3.png',
                link: 'https://www.youtube.com/watch?v=gLyiC4MiBoY'
            },
            {
                id: 4,
                title: 'Story Protocol on a Mission to Grow \'Creativity in the Internet Era,\' Co-Founder Says',
                image: 'EducResources/1-4.png',
                link: 'https://www.youtube.com/watch?v=6eDVJQMzKVM'
            },
            {
                id: 5,
                title: 'Why Story Protocol Raised $140 Million to Bring Creator IP Onchain',
                image: 'EducResources/1-5.png',
                link: 'https://www.youtube.com/watch?v=plkRhxbsE6c'
            },
            {
                id: 6,
                title: 'Story Protocol:Programmable IP Overview - Jason @Story Protocol',
                image: 'EducResources/1-6.png',
                link: 'https://www.youtube.com/watch?v=ymq1mhRSxTg&t=4s'
            },
            {
                id: 7,
                title: 'Collaborative Creativity: Navigating The Future of Web3 IP',
                image: 'EducResources/1-7.png',
                link: 'https://www.youtube.com/watch?v=eQzSqy1m1lY'
            },
            {
                id: 8,
                title: 'Programmable IP: The Onchain Renaissance in the Age of AI ft. S.Y. Lee (Story Protocol) | CONVEGENCE',
                image: 'EducResources/1-8.png',
                link: 'https://www.youtube.com/watch?v=V8TAP1SgDtU'
            },
            {
                id: 9,
                title: 'Story Protocol: Building a Modern IP Infrastructure and Protecting Creators in the AI Age (Andrea...',
                image: 'EducResources/1-9.png',
                link: 'https://www.youtube.com/watch?v=VLgewjmd7C0'
            },
            {
                id: 10,
                title: 'Story Protocol: Tokenizing Intelligence Into Programmable IP Assets - Jason Zhao. Ep. 585',
                image: 'EducResources/1-10.png',
                link: 'https://www.youtube.com/watch?v=oEiJr-hWEeY'
            },
            {
                id: 11,
                title: 'Programmable IP in the Age of AI',
                image: 'EducResources/1-11.png',
                link: 'https://www.youtube.com/watch?v=yYINwqIfW4s'
            },
            {
                id: 12,
                title: 'Bringing IP Onchain With Story Protocol | Andrea & Jason',
                image: 'EducResources/1-12.png',
                link: 'https://www.youtube.com/watch?v=3wkw-BA-REE'
            },
            {
                id: 13,
                title: 'From Beginnings to Founding STORYㅣJason Zhao',
                image: 'EducResources/1-13.png',
                link: 'https://www.youtube.com/watch?v=VIk9IsfCwNI'
            },
            {
                id: 14,
                title: 'This Blockchain Gives Creators Real Power Against AI? Story Protocol Explained',
                image: 'EducResources/1-14.png',
                link: 'https://www.youtube.com/watch?v=KiB_d8pP8m8'
            },
            {
                id: 15,
                title: 'What is Story Protocol? | Proof-of-Creativity & The Future of IP | EP 9',
                image: 'EducResources/1-15.png',
                link: 'https://www.youtube.com/watch?v=vJEP2HLsG34'
            },
            {
                id: 16,
                title: 'Sandeep Chinchali at "Once Upon a Story" by Story x DSRV Labs',
                image: 'EducResources/1-16.png',
                link: 'https://www.youtube.com/watch?v=xR5JvjQlC6w'
            },
            {
                id: 17,
                title: 'Andrea Muttoni at "Once Upon a Story" by Story x DSRV Labs',
                image: 'EducResources/1-17.png',
                link: 'https://www.youtube.com/watch?v=_b--xXWabcE'
            },
            {
                id: 18,
                title: 'Hyung Kyu Choi at "Once Upon a Time" by Story x DSRV Labs',
                image: 'EducResources/1-18.png',
                link: 'https://www.youtube.com/watch?v=NC4eZr92mMM'
            },
            {
                id: 19,
                title: 'Ramtin Seraj at "Once Upon a Story" by Story x DSRV Labs',
                image: 'EducResources/1-19.png',
                link: 'https://www.youtube.com/watch?v=Thl2UqO6OmQ&t=6s'
            }
        ];

        this.technicalArticles = [
            {
                id: 1,
                title: 'AI Video Hackathon: How to Use Story SDK by Story Protocol',
                image: 'EducResources/1.png',
                link: 'https://www.youtube.com/watch?v=c3IbHtI-lP8'
            },
            {
                id: 2,
                title: 'Story Protocol - Learn the TypeScript SDK',
                image: 'EducResources/2.png',
                link: 'https://www.youtube.com/watch?v=ty5GiNekVh0'
            },
            {
                id: 3,
                title: 'Interacting with the Story Smart Contracts',
                image: 'EducResources/3.png',
                link: 'https://www.youtube.com/watch?v=omSO5nQKa5M'
            },
            {
                id: 4,
                title: 'How to Register IP on the Blockchain (Using the Story TypeScript SDK)',
                image: 'EducResources/4.png',
                link: 'https://www.youtube.com/watch?v=zGQPiszTs40'
            },
            {
                id: 5,
                title: 'OUTDATED (see description) | Story Protocol [Workshop] - Working with the Smart Contracts',
                image: 'EducResources/5.png',
                link: 'https://www.youtube.com/watch?v=eHkCmLZ0r8I'
            },
            {
                id: 6,
                title: 'How to Register IP on the Blockchain using Story Typescript SDK and Suno Music (Jossif Elefteriadis)',
                image: 'EducResources/6.png',
                link: 'https://www.youtube.com/watch?v=xH4H2fHcWFU'
            },
            {
                id: 7,
                title: 'Ramtin Seraj at "Once Upon a Story" by Story x DSRV Labs',
                image: 'EducResources/7.png',
                link: 'https://www.youtube.com/watch?v=Thl2UqO6OmQ'
            },
            {
                id: 8,
                title: 'Protecting & Monetizing DALL·E AI-Generated Content (Using the SDK)',
                image: 'EducResources/8.png',
                link: 'https://www.youtube.com/watch?v=Ob2L4Lm-uTs'
            },
            {
                id: 9,
                title: 'Story Protocol Competition Live Code Walkthrough Part 1 | Cantina',
                image: 'EducResources/9.png',
                link: 'https://www.youtube.com/watch?v=pEdGZgSo-5g'
            },
            {
                id: 10,
                title: 'Story Protocol Competition Live Code Walkthrough Part 2 | Cantina',
                image: 'EducResources/10.png',
                link: 'https://www.youtube.com/watch?v=Uyxd46PakVs'
            },
            {
                id: 11,
                title: 'How Story Protocol Grew Securely | Cantina TV',
                image: 'EducResources/11.png',
                link: 'https://www.youtube.com/watch?v=ss8Bjz6iK0E'
            },
            {
                id: 12,
                title: 'How to Pay IPs Cross-Chain (using deBridge)',
                image: 'EducResources/12.png',
                link: 'https://www.youtube.com/watch?v=gVjmTOkr758'
            },
            {
                id: 13,
                title: 'How to Disallow AI from Training on your IP',
                image: 'EducResources/13.png',
                link: 'https://www.youtube.com/watch?v=GxQwm5w22rM'
            }
        ];

        this.currentTab = 'general';
    }

    init() {
        this.renderEducationArticlesContent();
    }

    renderEducationArticlesContent() {
        const networkContainer = document.getElementById('network-info');
        const mainContainer = document.getElementById('main-content');

        if (!networkContainer || !mainContainer) return;

        const navButtons = [
            { name: 'General', active: this.currentTab === 'general' },
            { name: 'Technical', active: this.currentTab === 'technical' }
        ];

        networkContainer.innerHTML = '';

        mainContainer.innerHTML = `
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="flex flex-wrap gap-0.5 mb-6">
                    ${navButtons.map(button => `
                        <button class="px-2 py-2 font-medium rounded-lg transition-all duration-300 min-w-[90px] sm:min-w-[120px] text-center ${button.active ? 'text-purple-300' : 'text-white'} hover:text-gray-300 flex-shrink-0" 
                        style="background-image: url('media/ramp.svg'); background-size: 100% 100%; background-repeat: no-repeat; font-family: 'Source Code Pro', monospace; font-size: 10.71px;"
                        data-tab="${button.name.toLowerCase()}">
                            ${button.name}
                        </button>
                    `).join('')}
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 items-start">
                    ${this.getCurrentArticles().map(article => this.renderArticleCard(article)).join('')}
                </div>
            </div>
        `;

        this.attachEventListeners();
    }

    getCurrentArticles() {
        return this.currentTab === 'general' ? this.generalArticles : this.technicalArticles;
    }

    attachEventListeners() {
        const navButtons = document.querySelectorAll('[data-tab]');
        navButtons.forEach(button => {
            button.addEventListener('click', (e) => {
                const tab = e.target.dataset.tab;
                this.currentTab = tab;

                navButtons.forEach(btn => {
                    if (btn.dataset.tab === tab) {
                        btn.className = 'px-2 py-2 font-medium rounded-lg transition-all duration-300 min-w-[90px] sm:min-w-[120px] text-center text-purple-300 hover:text-gray-300 flex-shrink-0';
                    } else {
                        btn.className = 'px-2 py-2 font-medium rounded-lg transition-all duration-300 min-w-[90px] sm:min-w-[120px] text-center text-white hover:text-gray-300 flex-shrink-0';
                    }
                });

                this.renderEducationArticlesContent();
            });
        });
    }

    renderArticleCard(article) {
        return `
            <div class="w-full hover:scale-105 transition-transform duration-300 cursor-pointer h-full flex flex-col" onclick="window.open('${article.link}', '_blank')">
                <div class="Dev overflow-hidden mb-3 w-full flex-shrink-0">
                    <img src="${article.image}" alt="${article.title}" class="w-full h-32 sm:h-40 object-cover rounded-lg" onerror="this.src='media/about.png'">
                </div>
                <div class="w-full flex-grow px-1">
                    <h3 class="font-bold text-xs sm:text-sm mb-1 leading-tight line-clamp-3">
                        ${article.title}
                    </h3>
                    <p class="text-xs leading-relaxed text-gray-400">
                        ${article.subtitle || 'Watch the Video'}
                    </p>
                </div>
            </div>
        `;
    }
}